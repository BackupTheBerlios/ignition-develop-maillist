<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Ignition-develop] Porting Ignition
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ignition-develop/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:ignition-develop%40lists.berlios.de?Subject=Re%3A%20%5BIgnition-develop%5D%20Porting%20Ignition&In-Reply-To=%3CCDELIIAEABDNOIHODJBBMEONFHAA.alexandre%40balaban.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000000.html">
   <LINK REL="Next"  HREF="000002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Ignition-develop] Porting Ignition</H1>
    <B>Alexandre Balaban</B> 
    <A HREF="mailto:ignition-develop%40lists.berlios.de?Subject=Re%3A%20%5BIgnition-develop%5D%20Porting%20Ignition&In-Reply-To=%3CCDELIIAEABDNOIHODJBBMEONFHAA.alexandre%40balaban.fr%3E"
       TITLE="[Ignition-develop] Porting Ignition">alexandre at balaban.fr
       </A><BR>
    <I>Fri Nov 28 12:01:31 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000000.html">[Ignition-develop] Porting Ignition
</A></li>
        <LI>Next message: <A HREF="000002.html">[Ignition-develop] Porting Ignition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1">[ date ]</a>
              <a href="thread.html#1">[ thread ]</a>
              <a href="subject.html#1">[ subject ]</a>
              <a href="author.html#1">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Matthias,

Moderator: I'm resending this message as the previous seems
to have gone void ;-)

I'm sorry this discussion led to private email, it seems
the ignition ML is badly configured so that when you anwser
it in fact send the mail to the private email instead of
the ML email. I'm sending a copy of this email to the ML
we might continue there if you wish.

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Am Mittwoch, den 26.11.2008, 09:37 +0100 schrieb Alexandre Balaban:
</I>&gt;&gt;<i> Hello Matthias,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; one of the development goals of Ignition is to port it to different
</I>&gt;&gt;<i> &gt; AmigaOS flavours. There is a macro set which has support for:
</I>&gt;&gt;<i> &gt; -Classic AmigaOS, AOS4, Morphos
</I>&gt;&gt;<i> &gt; -GNUC, SAS/C, vbcc, STORM, Maxon
</I>&gt;&gt;<i> &gt; -Libraries, Hooks, Interrupts, Variadic functions
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; <A HREF="http://sditools.cvs.sourceforge.net/viewvc/sditools/sditools/headers/">http://sditools.cvs.sourceforge.net/viewvc/sditools/sditools/headers/</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Unfortunately, it doesn't fully support AROS. AROS has its own
</I>&gt;&gt;<i> &gt; compatibility macro set which has a different principle. The macros for
</I>&gt;&gt;<i> &gt; library and hook functions contain the number of the arguments in their
</I>&gt;&gt;<i> &gt; name. And the functions must be wrapped in
</I>&gt;&gt;<i> &gt; AROS_USER(LIB)FUNC_INIT/AROS_USER(LIB)FUNC_EXIT.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Therefor it's easier to define a new macro set which expands to AROS
</I>and
&gt;&gt;<i> &gt; SDI.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I must say that I hate those function defining macros because they hide
</I>&gt;&gt;<i> functions' prototype and implementation from every IDE scanner out there
</I>&gt;&gt;<i> thus making their &quot;function browser&quot; useless. it also prevent
</I>readability.
&gt;&gt;<i> May I ask you why AROS can't use standard C function prototypes as other
</I>&gt;&gt;<i> Amiga OS ?
</I>&gt;<i>
</I>&gt;<i> I could do that, but then the arguments are passed on the stack. The
</I>&gt;<i> result ist that the library isn't any longer compatible with
</I>&gt;<i> AmigaOs-68k.
</I>
Can you elaborate on this ? How would it look like in C ?

&gt;<i> Another case are hook functions. It is possible to define them without
</I>&gt;<i> marcros. But the you have to set h_Entry to the function HookEntry from
</I>&gt;<i> amiga.lib, which causes a speed penalty:
</I>&gt;<i>
</I>&gt;<i> myhook.h_Entry = HookEntry;
</I>&gt;<i> myhook.h_SubEntry = (HOOKFUNC)myfunc;
</I>
Speed penalty in AROS ? Are you saying that AROS has a different mecanism
for Hooks ? How the hook functions look like in AROS ?

&gt;&gt;<i> Wouldn't it be better to try to update SDI to fully support AROS instead
</I>&gt;&gt;<i> of reinventing those macros in each project ?
</I>&gt;<i>
</I>&gt;<i> This would be the perfect solution, but I don't know how to do that. The
</I>&gt;<i> AROS macros have the number of arguments in their name (e.g. AROS_LH2
</I>&gt;<i> for a library function with 2 parameters.)
</I>&gt;<i> So a simple wrapper isn't possible.
</I>
Can you describe me how AROS_LH2 would expand ? i.e. how would you write
a library function in AROS that would take two argument and return void ?


Also did you already started porting Ignition to AROS ?

Best regards,

Alexandre.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000000.html">[Ignition-develop] Porting Ignition
</A></li>
	<LI>Next message: <A HREF="000002.html">[Ignition-develop] Porting Ignition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1">[ date ]</a>
              <a href="thread.html#1">[ thread ]</a>
              <a href="subject.html#1">[ subject ]</a>
              <a href="author.html#1">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ignition-develop">More information about the Ignition-develop
mailing list</a><br>
</body></html>
